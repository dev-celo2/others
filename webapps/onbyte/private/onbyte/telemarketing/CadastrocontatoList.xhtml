<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:s="http://jboss.com/products/seam/taglib">

<ui:composition
	template="/WEB-INF/facelets/layout/mainlayoutTelemarketing.xhtml">

	<ui:define name="content">

		<h:form id="frmCadContato">

			<div class="panel panel-primary"
				style="width: 99.5%; margin: 0 auto;">
				<div class="panel-heading">
					<i class="glyphicon glyphicon-plus-sign" /> CADASTRO DE CONTATO
				</div>
				<div class="panel-body">
					<div class="box-content">

						<a:outputPanel id="pnlCad" style="text-transform: uppercase;">

							<div class="col-xs-2">
								<label for="ex1">Código</label>
								<h:inputText value="#{futuroalunoHome.futuroAluno.codigo}"
									styleClass="form-control" readonly="true" id="ex1" type="text" />
							</div>

							<div class="col-xs-5">
								<label for="ex2">Nome</label>
								<h:inputText value="#{futuroalunoHome.futuroAluno.nome}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex2" type="text" />
							</div>


							<div class="col-xs-5">
								<label for="ex2">Endereço</label>
								<h:inputText value="#{futuroalunoHome.futuroAluno.endereco}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex3" type="text" />
							</div>


							<div class="col-xs-4">
								<label for="ex3">Bairro</label>
								<h:inputText value="#{futuroalunoHome.futuroAluno.bairro}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex4" type="text" />
							</div>

							<div class="col-xs-3">
								<label for="ex3">Cidade</label>
								<h:inputText value="#{futuroalunoHome.futuroAluno.cidade}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex5" type="text" />
							</div>

							<div class="col-xs-1">
								<label for="ex3">Estado</label>
								<h:inputText value="#{futuroalunoHome.futuroAluno.estado}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex6" type="text" />
							</div>

							<div class="col-xs-2">
								<label for="ex3">Cep</label>
								<p:inputMask value="#{futuroalunoHome.futuroAluno.cep}"
									readonly="#{!futuroalunoHome.editable}" mask="99.999-999"
									styleClass="form-control" id="ex7" />
							</div>

							<div class="col-xs-2">
								<label for="ex3">Telefone</label>
								<p:inputMask mask="(99)9999-9999"
									value="#{futuroalunoHome.futuroAluno.telres}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex8" type="text" />
							</div>

							<div class="col-xs-2">
								<label for="ex3">Celular</label>
								<p:inputMask mask="(99)99999-9999"
									value="#{futuroalunoHome.futuroAluno.telcel}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex9" type="text" />
							</div>

							<div class="col-xs-2">

								<label for="ex3">Nasc. <span style="color: red">(#{futuroalunoHome.futuroAluno.idade}
										anos)</span>
								</label>
								<p:calendar inputStyleClass="form-control" effect="slide"
									pattern="dd/MM/yyyy" disabled="#{!futuroalunoHome.editable}"
									navigator="true"
									value="#{futuroalunoHome.futuroAluno.nascimento}" id="ex10"
									type="text">
								</p:calendar>

							</div>

							<div class="col-xs-4">
								<label for="ex2">Responsável</label>
								<h:inputText value="#{futuroalunoHome.futuroAluno.responsavel}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex11" type="text" />
							</div>

							<div class="col-xs-2">
								<label for="ex3"> <h:selectOneMenu
										value="#{relcontatos.interval}" enabledClass="radio-inline">
										<f:selectItem itemValue="1" itemLabel="Tel. Resp." />
										<f:selectItem itemValue="2" itemLabel="Cel. Resp." />
										<a:support event="onchange" reRender="periodo" />
									</h:selectOneMenu></label>
								<p:inputMask mask="(99)9999-9999"
									value="#{futuroalunoHome.futuroAluno.telresponsavel}"
									readonly="#{!futuroalunoHome.editable}"
									styleClass="form-control" id="ex12" type="text" />
							</div>

							<div class="col-xs-2">
								<label for="ex3">Cadastrado Em</label>
								<p:inputMask mask="99/99/9999" readonly="true"
									value="#{futuroalunoHome.futuroAluno.dtcadastro}"
									styleClass="form-control" id="ex13" type="text" />
							</div>


						</a:outputPanel>




					</div>

				</div>
				<div class="panel-footer">
					<center>
						<a:outputPanel id="btns">
							<a:commandLink styleClass="btn btn-warning"
								rendered="#{!futuroalunoHome.editable}"
								actionListener="#{futuroalunoHome.novo}" style="width:100px;"
								reRender="msgGlobal, pnlCad, btns, grpCadCont">
								<i class="glyphicon glyphicon-plus" />  
						 Novo
					</a:commandLink>

							<rich:spacer width="2px" />

							<a:commandLink styleClass="btn btn-success"
								rendered="#{futuroalunoHome.editable}"
								actionListener="#{futuroalunoHome.Salvar}" style="width:100px;"
								reRender="msgGlobal, pnlCad, btns, grpCadCont">
								<i class="glyphicon glyphicon-floppy-disk" />  
						 Gravar
					</a:commandLink>

							<rich:spacer width="2px" />

							<a:commandLink styleClass="btn btn-danger"
								rendered="#{futuroalunoHome.editable}"
								actionListener="#{futuroalunoHome.cancelar}"
								reRender="pnlCad, btns, grpCadCont" style="width:100px;">
								<i class="glyphicon glyphicon-remove" />  
						 Cancelar
					</a:commandLink>
						</a:outputPanel>
					</center>
				</div>
			</div>


			<p />


			<div class="panel panel-primary"
				style="width: 99.5%; margin: 0 auto;">
				<div class="panel-heading">
					<i class="glyphicon glyphicon-th-list" /> CONTATOS
					<div class="input-group"
						style="width: 400px; float: right; top: -7px">
						<span class="input-group-addon" id="basic-addon1">Pesquisar
							Nome</span>
						<h:inputText type="text" class="form-control" 
							value="#{futuroalunoHome.nome}">
							<a:support event="onkeyup" action="#{futuroalunoHome.setListFuturoAluno(null, 'FIRST')}" reRender="grpCadCont" />
						</h:inputText>

					</div>
				</div>
				<div class="panel-body" id="pnl">

					<div class="box-content">

						<a:outputPanel id="grpCadCont">
							<table id="tblCadCont" width="100%"
								style="text-align: center; text-transform: uppercase; font-size: 12px;"
								class="table-responsive table-condensed table table-striped tbody table-bordered bootstrap-datatable datatable table-hover ">
								<thead>
									<tr>

										<th style="text-align: center; width: 7%;">Código</th>
										<th style="text-align: center;"><a:commandLink
												 actionListener="#{futuroalunoHome.setOrder(1)}" action="#{futuroalunoHome.setListFuturoAluno(null, 'FIRST')}"
												reRender="grpCadCont"> <i class="glyphicon glyphicon-arrow-down" /> </a:commandLink>
												 NOME <a:commandLink reRender="grpCadCont"
																		action="#{futuroalunoHome.setListFuturoAluno(null, 'FIRST')}"
																		actionListener="#{futuroalunoHome.setOrder(0)}">
																		<i class="glyphicon glyphicon-arrow-up" />
																	</a:commandLink>
											</th>
										<th style="text-align: center; width: 12%;">Telefone</th>
										<th style="text-align: center; width: 12%;">Celular</th>
										<th style="text-align: center; width: 12%;">Nascido Em</th>
										<th style="text-align: center; width: 15%;">Ação</th>



									</tr>
								</thead>

								<tbody class="searchable" id="tbody">

									<c:forEach items="#{futuroalunoHome.futuroAlunosList}"
										var="cad">
										<tr>

											<td class="center"><h:outputText value="#{cad.codigo}" /></td>

											<td class="center"><h:outputText value="#{cad.nome}" /></td>

											<td class="center"><h:outputText value="#{cad.telres}" /></td>

											<td class="center"><h:outputText value="#{cad.telcel}" /></td>

											<td class="center"><h:outputText
													value="#{cad.nascimento}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:outputText> <br /> <span style="font-weight: bold;">
													#{cad.idade} anos</span></td>

											<td class="center"><a:commandLink
													actionListener="#{futuroalunoHome.ver(cad)}"
													rendered="#{!futuroalunoHome.editable}" reRender="pnlCad"
													styleClass="btn btn-default" title="Visualizar">
													<i class="glyphicon glyphicon-search" />
												</a:commandLink> <rich:spacer width="2px;" /> <a:commandLink
													rendered="#{!futuroalunoHome.editable}"
													actionListener="#{futuroalunoHome.editar(cad)}"
													reRender="pnlCad, btns, grpCadCont"
													styleClass="btn btn-info" title="Editar">
													<i class="glyphicon glyphicon-pencil" />
												</a:commandLink> <rich:spacer width="2px;" /> <a:commandLink
													reRender="pnlCadConversa"
													actionListener="#{historicoteleHome.novo(cad)}"
													onclick="$('#modalNovoContato').modal('show');"
													styleClass="btn btn-success" title="Registrar Contato">
													<i class="glyphicon glyphicon-plus-sign" />
												</a:commandLink></td>


										</tr>

									</c:forEach>

								</tbody>




							</table>

							<table width="100%">
								<tr>

									<td width="45%">
										<h5>
											<span class="label label-default">#{futuroalunoHome.descPag}</span>
										</h5>
									</td>
									
									<td>
									
									<a:commandButton image="/images/primeiro.png" title="PRIMEIRO"
											reRender="grpCadCont" styleClass="btn btn-default"
											action="#{futuroalunoHome.setListFuturoAluno(null, 'FIRST')}"
											id="firstPage" />

										<a:commandButton image="/images/anterior.png" title="ANTERIOR"
											reRender="grpCadCont" styleClass="btn btn-default"
											action="#{futuroalunoHome.setListFuturoAluno(null, 'PRIOR')}"
											id="previousPage" />

										<a:commandButton image="/images/proximo.png"
											title="#{messages['global.proximo']}" reRender="grpCadCont"
											styleClass="btn btn-default"
											action="#{futuroalunoHome.setListFuturoAluno(null, 'NEXT')}"
											id="nextPage" />

										<a:commandButton image="/images/ultimo.png"
											reRender="grpCadCont"
											styleClass="btn btn-default dropdown-toggle"
											title="#{messages['global.ultimo']}"
											action="#{futuroalunoHome.setListFuturoAluno(null, 'LAST')}" />
									
									</td>

								</tr>
							</table>

						</a:outputPanel>

					</div>


				</div>
			</div>




			<!-- Modal -->

			<div id="modalNovoContato" class="modal fade" data-backdrop="static"
				role="dialog">
				<div class="modal-dialog modal-lg">
					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">

							<center>
								<h4 style="font-weight: bold;" class="modal-title text-danger">
									<i class="glyphicon glyphicon-list-alt text-danger"
										style="font-size: 20px;" /> REGISTRAR NOVA CONVERSA
								</h4>
							</center>
						</div>
						<div class="modal-body">
							<div class="box-content">

								<h:panelGrid width="100%">

									<h:panelGroup id="pnlCadConversa">

										<div class="col-xs-6">
											<label for="ex1">DATA</label>
											<h:inputText readonly="true"
												value="#{historicoteleHome.histTele.data}"
												styleClass="form-control" id="ex14" type="text">
												<f:convertDateTime pattern="EEEE, dd/MMMM/yyyy HH:mm:ss" />
											</h:inputText>
										</div>

										<div class="col-xs-6">
											<label for="ex1">RETORNO</label>

											<p:inputMask styleClass="form-control"
												mask="99/99/9999 99:99:99" navigator="true"
												value="#{historicoteleHome.histTele.dataretorno}" id="ex15">
												<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
											</p:inputMask>

										</div>

										<div class="col-xs-6">
											<label for="ex1">OPERADOR(A)</label>
											<h:inputText readonly="true"
												value="#{historicoteleHome.histTele.funcionario.nome}"
												styleClass="form-control" id="ex16" type="text" />
										</div>

										<div class="col-xs-6">
											<label for="ex1">CONTATO</label>
											<h:inputText readonly="true"
												value="#{historicoteleHome.histTele.futuroAluno.nome}"
												styleClass="form-control" id="ex18" type="text" />
										</div>

										<br />
										<br />
										<br />
										<br />
										<br />
										<br />
										<br />
										<a:outputPanel>
											<div class="col-xs-12">
												<center>
													<label for="ex1">CONVERSA</label>
												</center>
												<h:inputTextarea style="height:150px;"
													value="#{historicoteleHome.histTele.descricao}"
													styleClass="form-control" id="ex19" type="text">
													<a:support event="onkeyup"
														actionListener="#{historicoteleHome.contarCaracteres}"
														reRender="contador" />
												</h:inputTextarea>
												<rich:spacer height="18px" />
												<h:outputText styleClass="label label-danger"
													value="#{historicoteleHome.qtdCaracteres} caracteres digitados de no máximo 400."
													id="contador" />
											</div>

										</a:outputPanel>


									</h:panelGroup>

								</h:panelGrid>



							</div>
						</div>
						<div class="modal-footer">
							<center>
								<a:commandLink actionListener="#{historicoteleHome.Salvar}"
									style="width:100px;" reRender="msgGlobal"
									styleClass="btn btn-success">
									<i class="glyphicon glyphicon-floppy-disk" />
							Gravar
							</a:commandLink>

								<button type="button" class="btn btn-danger"
									style="width: 100px;" data-dismiss="modal">
									<i class="glyphicon glyphicon-remove" /> Cancelar
								</button>

								<button type="button" class="btn btn-default"
									style="width: 100px;" data-dismiss="modal">
									<i class="glyphicon glyphicon-log-out" /> Fechar
								</button>

							</center>
						</div>
					</div>

				</div>
			</div>

		</h:form>


	</ui:define>


</ui:composition>
</html>
